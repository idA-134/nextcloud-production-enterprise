# TURN Server Configuration for Nextcloud Talk
# Optimized for production use with 500 users

# Listening port for TURN server
listening-port=3478

# Listening IP (0.0.0.0 for all interfaces)
listening-ip=0.0.0.0

# External IP will be auto-detected
external-ip=EXTERNAL_IP_PLACEHOLDER

# Relay IP
relay-ip=0.0.0.0

# Verbosity
verbose

# Fingerprints in TURN messages
fingerprint

# Use long-term credentials
lt-cred-mech

# Realm for TURN server
realm=nextcloud

# Static auth secret for TURN REST API
use-auth-secret
static-auth-secret=TURN_SECRET_PLACEHOLDER

# Total quota for allocations
total-quota=100

# Max bytes-per-second for sessions
bps-capacity=0

# SSL/TLS certificates (optional, aber empfohlen f√ºr Production)
# cert=/etc/letsencrypt/live/DOMAIN/fullchain.pem
# pkey=/etc/letsencrypt/live/DOMAIN/privkey.pem

# Disable TLS and DTLS (use only for testing without certificates)
no-tls
no-dtls

# Recommended port range for relay connections
min-port=49160
max-port=49200

# Log file
log-file=/var/log/coturn/turnserver.log

# Disable CLI
no-cli

# Process management
pidfile=/var/run/turnserver.pid

# Mobility support with TURN
mobility

# Disallow loopback peers
no-loopback-peers

# Disallow multicast peers
no-multicast-peers

# Server name for logging
server-name=nextcloud-turn
